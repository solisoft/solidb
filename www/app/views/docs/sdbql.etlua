<div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
  <div class="mb-8">
    <a
      href="/docs"
      class="inline-flex items-center text-indigo-400 hover:text-indigo-300 font-medium transition-colors group"
    >
      <svg
        class="w-4 h-4 mr-2 transform group-hover:-translate-x-1 transition-transform"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        ></path>
      </svg>
      Back to Documentation
    </a>
  </div>

  <div class="lg:grid lg:grid-cols-12 lg:gap-12">
    <!-- Sidebar Partial -->

    <!-- Main Content -->
    <main class="lg:col-span-12 space-y-12">
      <!-- Header -->
      <div class="relative">
        <div
          class="absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg blur opacity-25"
        ></div>
        <div class="relative">
          <h1
            class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 mb-4 tracking-tight"
          >
            SDBQL Reference
          </h1>
          <p class="text-xl text-gray-300 max-w-3xl leading-relaxed">
            Master the SoliDB Query Language (SDBQL) in SoliDB. A powerful,
            declarative language for querying and manipulating your JSON
            documents.
          </p>
        </div>
      </div>

      <!-- Basic Syntax -->
      <section id="syntax" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div class="p-8 border-b border-white/5 bg-white/5">
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-indigo-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
                ></path>
              </svg>
              Basic Syntax
            </h2>
          </div>
          <div class="p-8 space-y-8">
            <p class="text-gray-300 leading-relaxed">
              SDBQL queries follow a declarative structure that reads like a
              sentence.
            </p>

            <div class="bg-gray-950/50 rounded-xl border border-white/5 p-6">
              <pre><code class="language-sql text-sm">LET variable = expression
FOR variable IN collection
  FILTER expression
  SORT field [ASC|DESC]
  LIMIT [offset,] count
  RETURN expression</code></pre>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div
                class="bg-gray-800/30 rounded-xl p-5 border border-white/5 hover:border-indigo-500/30 transition-colors"
              >
                <h3 class="text-indigo-300 font-bold mb-2 flex items-center">
                  <span class="bg-indigo-500/20 p-1.5 rounded mr-2 text-xs"
                    >LET</span
                  >
                  Variable Assignment
                </h3>
                <p class="text-sm text-gray-400">
                  Binds values or subquery results to variables.
                </p>
              </div>
              <div
                class="bg-gray-800/30 rounded-xl p-5 border border-white/5 hover:border-indigo-500/30 transition-colors"
              >
                <h3 class="text-indigo-300 font-bold mb-2 flex items-center">
                  <span class="bg-indigo-500/20 p-1.5 rounded mr-2 text-xs"
                    >FOR</span
                  >
                  Iteration
                </h3>
                <p class="text-sm text-gray-400">
                  Iterates over collections or arrays.
                </p>
              </div>
              <div
                class="bg-gray-800/30 rounded-xl p-5 border border-white/5 hover:border-indigo-500/30 transition-colors"
              >
                <h3 class="text-indigo-300 font-bold mb-2 flex items-center">
                  <span class="bg-indigo-500/20 p-1.5 rounded mr-2 text-xs"
                    >FILTER</span
                  >
                  Filtering
                </h3>
                <p class="text-sm text-gray-400">
                  Restricts results based on conditions.
                </p>
              </div>
              <div
                class="bg-gray-800/30 rounded-xl p-5 border border-white/5 hover:border-indigo-500/30 transition-colors"
              >
                <h3 class="text-indigo-300 font-bold mb-2 flex items-center">
                  <span class="bg-indigo-500/20 p-1.5 rounded mr-2 text-xs"
                    >RETURN</span
                  >
                  Projection
                </h3>
                <p class="text-sm text-gray-400">
                  Constructs the result documents.
                </p>
              </div>
            </div>

            <!-- Range Expressions -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden mt-6"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3 class="text-lg font-bold text-orange-300 flex items-center">
                  <span
                    class="bg-orange-500/20 text-orange-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >..</span
                  >
                  Range Expressions
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Create numeric arrays using the range operator
                  <code class="text-orange-300">start..end</code> (inclusive on
                  both ends).
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    ><span class="text-orange-400">1..5</span> â†’ [1, 2, 3, 4,
                    5]</code
                  >
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Basic Range
                    </h4>
                    <pre><code class="language-sql text-sm">-- Returns [1, 2, 3, 4, 5]
RETURN 1..5

-- Negative numbers
RETURN -2..2  // [-2, -1, 0, 1, 2]</code></pre>
                  </div>
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      In FOR Loop
                    </h4>
                    <pre><code class="language-sql text-sm">FOR i IN 1..10
  RETURN i * 2

-- With expressions
LET n = 5
FOR i IN 1..n
  RETURN i</code></pre>
                  </div>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Batch Insert with Range
                  </h4>
                  <pre><code class="language-sql text-sm">FOR i IN 1..100
  INSERT { index: i, name: CONCAT("Item", i) } INTO items
  RETURN i</code></pre>
                </div>
              </div>
            </div>

            <!-- Pipeline Operator -->
            <div
              class="bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/20 overflow-hidden mt-6"
            >
              <div class="p-5 border-b border-purple-500/20 bg-purple-500/5">
                <h3 class="text-lg font-bold text-purple-300 flex items-center">
                  <span
                    class="bg-purple-500/20 text-purple-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >|></span
                  >
                  Pipeline Operator
                  <span class="ml-3 px-2 py-0.5 text-xs font-medium bg-green-500/20 text-green-400 rounded">NEW</span>
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Chain function calls for readable data transformations. The
                  <code class="text-purple-300">|></code> operator passes the left value as the
                  <strong>first argument</strong> to the right-side function.
                </p>

                <div class="bg-gray-950/50 rounded-lg border border-white/5 p-4">
                  <pre><code class="language-sql text-sm">-- String transformations
RETURN "  hello world  " |> TRIM() |> UPPER() |> SPLIT(" ")
-- Result: ["HELLO", "WORLD"]

-- Array operations
RETURN [3, 1, 4, 1, 5] |> UNIQUE() |> SORTED() |> REVERSE() |> FIRST()
-- Result: 5

-- With extra arguments
RETURN 3.14159 |> ROUND(2) |> TO_STRING()
-- Result: "3.14"</code></pre>
                </div>

                <h4
                  class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-4"
                >
                  Lambda Expressions
                </h4>
                <p class="text-sm text-gray-400 mb-3">
                  Use <code class="text-purple-300">x -> expression</code> syntax for inline transformations
                  with higher-order functions like FILTER, MAP, ANY, and ALL.
                </p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div class="bg-gray-800/30 rounded-lg border border-white/5 p-4">
                    <h5 class="text-purple-300 font-bold mb-2 text-sm">FILTER with Lambda</h5>
                    <pre><code class="language-sql text-xs">[1, 2, 3, 4, 5] |> FILTER(x -> x > 2)
-- Result: [3, 4, 5]

-- Complex condition
items |> FILTER(i -> i.price > 50 AND i.stock > 0)</code></pre>
                  </div>
                  <div class="bg-gray-800/30 rounded-lg border border-white/5 p-4">
                    <h5 class="text-purple-300 font-bold mb-2 text-sm">MAP with Lambda</h5>
                    <pre><code class="language-sql text-xs">[1, 2, 3] |> MAP(x -> x * 2)
-- Result: [2, 4, 6]

-- Extract fields
users |> MAP(u -> u.name)</code></pre>
                  </div>
                  <div class="bg-gray-800/30 rounded-lg border border-white/5 p-4">
                    <h5 class="text-purple-300 font-bold mb-2 text-sm">ANY / ALL</h5>
                    <pre><code class="language-sql text-xs">[1, 2, 3] |> ANY(x -> x > 2)  // true
[1, 2, 3] |> ALL(x -> x > 0)  // true</code></pre>
                  </div>
                  <div class="bg-gray-800/30 rounded-lg border border-white/5 p-4">
                    <h5 class="text-purple-300 font-bold mb-2 text-sm">Chaining</h5>
                    <pre><code class="language-sql text-xs">orders
  |> FILTER(o -> o.status == "pending")
  |> MAP(o -> o.total)
  |> SORTED()
  |> FIRST()</code></pre>
                  </div>
                </div>

                <div class="bg-gray-800/40 rounded-lg p-4 border border-white/5 mt-4">
                  <p class="text-sm text-gray-400">
                    <span class="text-purple-400 font-bold">Supported Functions:</span>
                    FIRST, LAST, LENGTH, REVERSE, SORTED, UNIQUE, FLATTEN, UPPER, LOWER, TRIM, SPLIT,
                    ROUND, ABS, FLOOR, CEIL, TO_STRING, TO_NUMBER, FILTER, MAP, ANY, ALL, FIND, REDUCE
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- LET & Subqueries -->
      <section id="let-subqueries" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div class="p-8 border-b border-white/5 bg-white/5">
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-purple-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
                ></path>
              </svg>
              LET & Subqueries
            </h2>
          </div>
          <div class="p-8 space-y-8">
            <div class="space-y-6">
              <div class="bg-gray-800/30 rounded-xl p-6 border border-white/5">
                <h3 class="text-lg font-semibold text-white mb-3">
                  Correlated Subqueries
                </h3>
                <p class="text-gray-400 mb-4 text-sm">
                  Use <code>LET</code> inside a <code>FOR</code> loop to perform
                  powerful joins and aggregations.
                </p>
                <pre><code class="language-sql text-sm">FOR u IN users
  -- Subquery accessing outer variable 'u'
  LET userOrders = (
    FOR o IN orders
    FILTER o.user == u.name
    RETURN o
  )
  RETURN { name: u.name, orders: userOrders }</code></pre>
              </div>

              <div class="bg-gray-800/30 rounded-xl p-6 border border-white/5">
                <h3 class="text-lg font-semibold text-white mb-3">
                  Aggregation with Subqueries
                </h3>
                <pre><code class="language-sql text-sm">FOR u IN users
  LET totalSpent = SUM((
    FOR o IN orders
    FILTER o.user == u.name
    RETURN o.amount
  ))
  FILTER totalSpent > 100
  RETURN { name: u.name, spent: totalSpent }</code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Operators -->
      <section id="operators" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div class="p-8 border-b border-white/5 bg-white/5">
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-pink-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"
                ></path>
              </svg>
              Operators
            </h2>
          </div>
          <div class="p-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Comparison -->
              <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden flex flex-col">
                <div class="px-5 py-4 border-b border-white/5 bg-white/5 flex items-center justify-between">
                  <h3 class="text-pink-300 font-bold text-sm uppercase tracking-wider flex items-center">
                    <i class="fas fa-balance-scale-right mr-2 opacity-50"></i> Comparison
                  </h3>
                </div>
                <div class="p-5 space-y-5 flex-grow">
                  <!-- Equality -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">==</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">!=</code>
                       <span class="text-xs text-gray-400">Equality check</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      status == "active"
                    </code>
                  </div>
                  
                  <!-- Relational -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&lt;</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&lt;=</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&gt;</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&gt;=</code>
                       <span class="text-xs text-gray-400">Range comparison</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      age &gt;= 18
                    </code>
                  </div>

                  <!-- Inclusion -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">IN</code>
                       <span class="text-xs text-gray-400">Value in array</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      city IN ["Paris", "London"]
                    </code>
                  </div>

                  <!-- Pattern Matching -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">LIKE</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">=~</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">!~</code>
                       <span class="text-xs text-gray-400">Pattern & Regex</span>
                    </div>
                    <div class="space-y-1">
                      <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                        name LIKE "J%"
                      </code>
                       <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                        email =~ "^[a-z]+@"
                      </code>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Logical -->
              <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden flex flex-col">
                <div class="px-5 py-4 border-b border-white/5 bg-white/5 flex items-center justify-between">
                  <h3 class="text-pink-300 font-bold text-sm uppercase tracking-wider flex items-center">
                    <i class="fas fa-check-double mr-2 opacity-50"></i> Logical
                  </h3>
                </div>
                <div class="p-5 space-y-5 flex-grow">
                  <!-- AND/OR -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">AND</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">OR</code>
                       <span class="text-xs text-gray-400">Boolean logic</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      age > 18 AND active == true
                    </code>
                  </div>

                  <!-- NOT -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">NOT</code>
                       <span class="text-xs text-gray-400">Negation</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      NOT is_deleted
                    </code>
                  </div>
                </div>
              </div>

              <!-- Arithmetic -->
              <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden flex flex-col">
                <div class="px-5 py-4 border-b border-white/5 bg-white/5 flex items-center justify-between">
                  <h3 class="text-pink-300 font-bold text-sm uppercase tracking-wider flex items-center">
                    <i class="fas fa-calculator mr-2 opacity-50"></i> Arithmetic
                  </h3>
                </div>
                <div class="p-5 space-y-5 flex-grow">
                   <!-- Basic Math -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">+</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">-</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">*</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">/</code>
                       <span class="text-xs text-gray-400">Basic operations</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      total * 1.2
                    </code>
                  </div>

                   <!-- Modulo -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">%</code>
                       <span class="text-xs text-gray-400">Modulo (remainder)</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      index % 2 == 0
                    </code>
                  </div>
                </div>
              </div>

              <!-- Bitwise -->
              <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden flex flex-col">
                <div class="px-5 py-4 border-b border-white/5 bg-white/5 flex items-center justify-between">
                  <h3 class="text-pink-300 font-bold text-sm uppercase tracking-wider flex items-center">
                    <i class="fas fa-microchip mr-2 opacity-50"></i> Bitwise
                  </h3>
                </div>
                <div class="p-5 space-y-5 flex-grow">
                   <!-- Logic -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&amp;</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">|</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">^</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">~</code>
                       <span class="text-xs text-gray-400">Logic & NOT</span>
                    </div>
                    <div class="space-y-1">
                      <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                        flags & 4 // Check bit
                      </code>
                       <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                        mask | 1 // Set bit
                      </code>
                    </div>
                  </div>

                   <!-- Shift -->
                  <div>
                    <div class="flex items-center gap-2 mb-2">
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&lt;&lt;</code>
                       <code class="text-xs font-bold text-white bg-gray-700/50 px-1.5 py-0.5 rounded border border-white/10">&gt;&gt;</code>
                       <span class="text-xs text-gray-400">Shift Left/Right</span>
                    </div>
                    <code class="block text-xs text-gray-300 bg-black/20 px-2 py-1.5 rounded font-mono border border-white/5">
                      1 &lt;&lt; 2 // Results in 4
                    </code>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Bind Variables -->
      <section id="bind-variables" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div
            class="p-8 border-b border-white/5 bg-white/5 flex justify-between items-center"
          >
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-green-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                ></path>
              </svg>
              Bind Variables
            </h2>
            <span
              class="px-3 py-1 bg-green-500/20 text-green-300 text-xs font-bold rounded-full border border-green-500/30"
              >SECURITY ESSENTIAL</span
            >
          </div>
          <div class="p-8 space-y-6">
            <div
              class="bg-red-900/10 border border-red-500/30 rounded-xl p-5 flex items-start"
            >
              <svg
                class="w-6 h-6 text-red-400 mt-0.5 mr-4 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                ></path>
              </svg>
              <div>
                <h4 class="text-red-300 font-bold mb-1">
                  Prevent Injection Attacks
                </h4>
                <p class="text-sm text-red-200/70">
                  Never concatenate user input directly into query strings.
                  Always use bind variables (<code>@variable</code>) to safely
                  substitute values.
                </p>
              </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <div>
                <h4
                  class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
                >
                  Query
                </h4>
                <pre><code class="language-sql text-sm">FOR u IN users
  FILTER u.name == @name
  AND u.age >= @minAge
  RETURN u</code></pre>
              </div>
              <div>
                <h4
                  class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
                >
                  Bind Vars
                </h4>
                <pre><code class="language-json text-sm">{
  "name": "Alice",
  "minAge": 25
}</code></pre>
              </div>
            </div>

            <div class="bg-gray-800/30 rounded-xl p-5 border border-white/5">
              <h4 class="text-sm font-bold text-gray-300 mb-2">
                Dynamic Field Access
              </h4>
              <p class="text-sm text-gray-400 mb-3">
                Use bracket notation with bind variables for dynamic field
                names.
              </p>
              <code
                class="text-sm bg-gray-950 px-2 py-1 rounded text-indigo-300 border border-white/10"
                >FILTER doc[@fieldName] == @value</code
              >
            </div>
          </div>
        </div>
      </section>

      <!-- Data Modification -->
      <section id="data-modification" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div
            class="p-8 border-b border-white/5 bg-gradient-to-r from-emerald-500/10 to-green-500/10"
          >
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-emerald-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                ></path>
              </svg>
              Data Modification
            </h2>
          </div>
          <div class="p-8 space-y-8">
            <p class="text-gray-300 leading-relaxed">
              SDBQL supports data modification operations for inserting and
              updating documents directly within queries.
            </p>

            <!-- INSERT -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3
                  class="text-lg font-bold text-emerald-300 flex items-center"
                >
                  <span
                    class="bg-emerald-500/20 text-emerald-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >INSERT</span
                  >
                  Insert Documents
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Insert new documents into a collection.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >INSERT <span class="text-emerald-400">document</span> INTO
                    <span class="text-cyan-400">collection</span></code
                  >
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Simple Insert
                    </h4>
                    <pre><code class="language-sql text-sm">LET nums = [1, 2, 3]
FOR i IN nums
  INSERT { value: i } INTO items
  RETURN i</code></pre>
                  </div>
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      With Computed Fields
                    </h4>
                    <pre><code class="language-sql text-sm">FOR i IN 1..5
  INSERT {
    name: CONCAT("User", i),
    index: i
  } INTO users
  RETURN i</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <!-- UPDATE -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3 class="text-lg font-bold text-blue-300 flex items-center">
                  <span
                    class="bg-blue-500/20 text-blue-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >UPDATE</span
                  >
                  Update Documents
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Update existing documents in a collection by merging changes
                  into existing fields.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >UPDATE <span class="text-emerald-400">document</span> WITH
                    <span class="text-purple-400">{ changes }</span> IN
                    <span class="text-cyan-400">collection</span></code
                  >
                </div>

                <div
                  class="bg-blue-900/10 border border-blue-500/30 rounded-lg p-4 flex items-start"
                >
                  <svg
                    class="w-5 h-5 text-blue-400 mt-0.5 mr-3 flex-shrink-0"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <div>
                    <h4 class="text-blue-300 font-bold mb-1 text-sm">
                      Merge Behavior
                    </h4>
                    <p class="text-sm text-blue-200/70">
                      UPDATE merges the changes into the existing document.
                      Fields not specified in the changes object are preserved.
                    </p>
                  </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Update Single Document
                    </h4>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc.name == "Alice"
  UPDATE doc WITH {
    status: "premium"
  } IN users
  RETURN doc.name</code></pre>
                  </div>
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Update Multiple Fields
                    </h4>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc.age >= 30
  UPDATE doc WITH {
    status: "vip",
    level: 5,
    verified: true
  } IN users
  RETURN doc._key</code></pre>
                  </div>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    With Computed Values
                  </h4>
                  <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc.city == "Paris"
  UPDATE doc WITH {
    fullName: CONCAT(doc.name, " from ", doc.city),
    region: "Europe"
  } IN users
  RETURN doc.name</code></pre>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    With Bind Variables
                  </h4>
                  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                    <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc.name == @name
  UPDATE doc WITH { points: @points } IN users
  RETURN doc.name</code></pre>
                    <pre><code class="language-json text-sm">{
  "name": "Alice",
  "points": 100
}</code></pre>
                  </div>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Return Modified Document
                  </h4>
                  <p class="text-sm text-gray-400 mb-3">
                    Use <code class="text-blue-300">RETURN NEW</code> to get the version of the document <em>after</em> the update.
                  </p>
                  <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc._key == "alice"
  UPDATE doc WITH { status: "active" } IN users
  RETURN NEW</code></pre>
                </div>
              </div>
            </div>

            <!-- UPSERT -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3 class="text-lg font-bold text-amber-300 flex items-center">
                  <span
                    class="bg-amber-500/20 text-amber-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >UPSERT</span
                  >
                  Update or Insert
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Atomically updates a document if it exists, or inserts it if it doesn't.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >UPSERT <span class="text-emerald-400">{ search }</span> INSERT
                    <span class="text-emerald-400">{ insert }</span> UPDATE
                    <span class="text-purple-400">{ update }</span> IN
                    <span class="text-cyan-400">collection</span></code
                  >
                </div>

                <div
                  class="bg-amber-900/10 border border-amber-500/30 rounded-lg p-4 flex items-start"
                >
                  <svg
                    class="w-5 h-5 text-amber-400 mt-0.5 mr-3 flex-shrink-0"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <div>
                    <h4 class="text-amber-300 font-bold mb-1 text-sm">
                      Atomicity
                    </h4>
                    <p class="text-sm text-amber-200/70">
                      In a transaction, UPSERT ensures that no other process
                      inserts the document between the check and the insertion.
                      The search condition should uniquely identify a single document
                      (usually by <code>_key</code>).
                    </p>
                  </div>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Example
                  </h4>
                  <pre><code class="language-sql text-sm">UPSERT { _key: "user123" }
INSERT { _key: "user123", name: "Alice", visits: 1 }
UPDATE { visits: 1 } // Merges if exists
IN users
RETURN NEW</code></pre>
                </div>
              </div>
            </div>

            <!-- REMOVE -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3 class="text-lg font-bold text-red-300 flex items-center">
                  <span
                    class="bg-red-500/20 text-red-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >REMOVE</span
                  >
                  Delete Documents
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Remove documents from a collection.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >REMOVE <span class="text-emerald-400">document</span> IN
                    <span class="text-cyan-400">collection</span></code
                  >
                </div>

                <div
                  class="bg-red-900/10 border border-red-500/30 rounded-lg p-4 flex items-start"
                >
                  <svg
                    class="w-5 h-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                    ></path>
                  </svg>
                  <div>
                    <h4 class="text-red-300 font-bold mb-1 text-sm">Caution</h4>
                    <p class="text-sm text-red-200/70">
                      REMOVE permanently deletes documents. Always use FILTER to
                      target specific documents, or you'll delete all documents
                      in the collection.
                    </p>
                  </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Remove by Key (Single)
                    </h4>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc._key == "alice"
  REMOVE doc IN users
  RETURN doc._key</code></pre>
                  </div>
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Remove by Condition (Multiple)
                    </h4>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  FILTER doc.city == "Paris"
  REMOVE doc IN users
  RETURN doc.name</code></pre>
                  </div>
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Remove All (Use with Caution!)
                  </h4>
                  <pre><code class="language-sql text-sm">FOR doc IN users
  REMOVE doc IN users
  RETURN doc._key</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Graph Queries -->
      <section id="graph-queries" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div
            class="p-8 border-b border-white/5 bg-gradient-to-r from-fuchsia-500/10 to-purple-500/10"
          >
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-fuchsia-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 19l-7-7m0 0l7-7m-7 7h18"
                />
              </svg>
              Graph Queries
            </h2>
          </div>
          <div class="p-8 space-y-8">
            <p class="text-gray-300 leading-relaxed">
              SoliDB supports native graph traversals and shortest path
              algorithms using dedicated keywords.
            </p>

            <!-- Traversal -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3
                  class="text-lg font-bold text-fuchsia-300 flex items-center"
                >
                  <span
                    class="bg-fuchsia-500/20 text-fuchsia-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >TRAVERSAL</span
                  >
                  Graph Traversal
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Traverse the graph starting from a vertex.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >FOR <span class="text-fuchsia-400">vertex</span>[,
                    <span class="text-fuchsia-400">edge</span>] IN [<span
                      class="text-orange-400"
                      >min</span
                    >..<span class="text-orange-400">max</span>]
                    <span class="text-cyan-400">DIRECTION</span>
                    <span class="text-yellow-300">startVertex</span>
                    <span class="text-emerald-400">edgeCollection</span></code
                  >
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div
                    class="bg-gray-900/40 rounded-lg p-3 border border-white/5"
                  >
                    <div
                      class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1"
                    >
                      OUTBOUND
                    </div>
                    <code class="text-sm text-fuchsia-300"
                      >_from &rarr; _to</code
                    >
                  </div>
                  <div
                    class="bg-gray-900/40 rounded-lg p-3 border border-white/5"
                  >
                    <div
                      class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1"
                    >
                      INBOUND
                    </div>
                    <code class="text-sm text-fuchsia-300"
                      >_to &larr; _from</code
                    >
                  </div>
                  <div
                    class="bg-gray-900/40 rounded-lg p-3 border border-white/5"
                  >
                    <div
                      class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1"
                    >
                      ANY
                    </div>
                    <code class="text-sm text-fuchsia-300"
                      >Either direction</code
                    >
                  </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Direct (1 Hop)
                    </h4>
                    <pre><code class="language-sql text-sm">FOR v IN OUTBOUND "users/alice" follows
  RETURN v.name</code></pre>
                  </div>
                  <div>
                    <h4
                      class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                    >
                      Variable Depth (1..2 Hops)
                    </h4>
                    <pre><code class="language-sql text-sm">FOR v, e IN 1..2 ANY "users/alice" follows
  RETURN { user: v.name, type: e.type }</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <!-- Shortest Path -->
            <div
              class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden"
            >
              <div class="p-5 border-b border-white/5 bg-white/5">
                <h3 class="text-lg font-bold text-green-300 flex items-center">
                  <span
                    class="bg-green-500/20 text-green-400 text-xs font-mono px-2 py-1 rounded mr-3"
                    >SHORTEST_PATH</span
                  >
                  Shortest Path
                </h3>
              </div>
              <div class="p-5 space-y-4">
                <p class="text-sm text-gray-400">
                  Find the shortest path between two vertices.
                </p>
                <div
                  class="bg-gray-950/50 rounded-lg border border-white/5 p-4"
                >
                  <code class="text-sm text-gray-300"
                    >FOR <span class="text-fuchsia-400">vertex</span>[,
                    <span class="text-fuchsia-400">edge</span>] IN
                    <span class="text-green-400">SHORTEST_PATH</span>
                    <span class="text-yellow-300">start</span> TO
                    <span class="text-yellow-300">end</span>
                    <span class="text-cyan-400">DIRECTION</span>
                    <span class="text-emerald-400">edgeCollection</span></code
                  >
                </div>

                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Find Path
                  </h4>
                  <pre><code class="language-sql text-sm">FOR v, e IN OUTBOUND SHORTEST_PATH
  "users/alice" TO "users/charlie"
  follows
  RETURN { vertex: v.name, edge: e }</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Group & Aggregate -->
      <section id="group-aggregate" class="scroll-mt-24">
        <div
          class="bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden shadow-2xl"
        >
          <div
            class="p-8 border-b border-white/5 bg-gradient-to-r from-orange-500/10 to-amber-500/10"
          >
            <h2 class="text-2xl font-bold text-white flex items-center">
              <svg
                class="w-6 h-6 mr-3 text-orange-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
              </svg>
              Group & Aggregate
            </h2>
          </div>
          <div class="p-8 space-y-8">
            <p class="text-gray-300 leading-relaxed">
              Use the <code>COLLECT</code> clause to group documents and perform aggregations like counting, summing, or averaging.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Basic Grouping -->
                <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden">
                <div class="p-5 border-b border-white/5 bg-white/5">
                    <h3 class="text-lg font-bold text-orange-300 flex items-center">
                    Basic Grouping
                    </h3>
                </div>
                <div class="p-5 space-y-4">
                    <p class="text-sm text-gray-400">Group results by one or more fields to find distinct values.</p>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  COLLECT city = doc.city
  RETURN { city }</code></pre>
                </div>
                </div>

                <!-- With COUNT -->
                <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden">
                <div class="p-5 border-b border-white/5 bg-white/5">
                    <h3 class="text-lg font-bold text-orange-300 flex items-center">
                    Counting Groups
                    </h3>
                </div>
                <div class="p-5 space-y-4">
                    <p class="text-sm text-gray-400">Count the number of items in each group using <code>WITH COUNT INTO</code>.</p>
                    <pre><code class="language-sql text-sm">FOR doc IN users
  COLLECT city = doc.city 
  WITH COUNT INTO count
  RETURN { city, count }</code></pre>
                </div>
                </div>
            </div>

            <!-- With Aggregation -->
             <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden">
               <div class="p-5 border-b border-white/5 bg-white/5">
                 <h3 class="text-lg font-bold text-orange-300 flex items-center">
                   Aggregation Functions
                 </h3>
               </div>
               <div class="p-5 space-y-4">
                 <p class="text-sm text-gray-400">Calculate aggregates using functions like <code>SUM</code>, <code>AVG</code>, <code>MIN</code>, <code>MAX</code>.</p>
                 <pre><code class="language-sql text-sm">FOR s IN sales
  COLLECT product = s.product
  AGGREGATE 
    total = SUM(s.amount),
    average = AVG(s.amount),
    min_amt = MIN(s.amount),
    max_amt = MAX(s.amount)
  RETURN { product, total, average, min_amt, max_amt }</code></pre>
               </div>
            </div>

             <!-- Collecting Lists -->
             <div class="bg-gray-800/30 rounded-xl border border-white/5 overflow-hidden">
               <div class="p-5 border-b border-white/5 bg-white/5">
                 <h3 class="text-lg font-bold text-orange-300 flex items-center">
                   Collecting Lists
                 </h3>
               </div>
               <div class="p-5 space-y-4">
                 <p class="text-sm text-gray-400">Use <code>COLLECT_LIST</code> to aggregate values from the group into an array.</p>
                 <pre><code class="language-sql text-sm">FOR u IN users
  COLLECT city = u.city
  AGGREGATE userNames = COLLECT_LIST(u.name)
  RETURN { 
    city, 
    userNames 
  }</code></pre>
               </div>
            </div>

             <!-- Syntax Reference -->
             <div class="bg-gray-950/50 rounded-lg border border-white/5 p-4 mt-8">
               <code class="text-sm text-gray-300 font-mono block whitespace-pre overflow-x-auto">COLLECT <span class="text-orange-400">variable</span> = <span class="text-purple-400">expression</span> [, ...]
[INTO <span class="text-orange-400">groupVariable</span>]
[WITH COUNT INTO <span class="text-orange-400">countVariable</span>]
[AGGREGATE <span class="text-orange-400">variable</span> = <span class="text-blue-400">FUNC</span>(<span class="text-purple-400">expression</span>) [, ...]]</code>
             </div>

          </div>
        </div>
      </section>

      <!-- Functions -->
      <section id="functions" class="scroll-mt-24">
        <div class="flex items-center mb-8">
          <h2 class="text-3xl font-extrabold text-white">Functions</h2>
          <div class="h-px bg-gray-800 flex-grow ml-6"></div>
        </div>

        <!-- Numeric -->
        <div class="mb-12" id="func-numeric">
          <h3 class="text-xl font-bold text-indigo-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-indigo-500 rounded-full mr-3"></span>
            Numeric
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >ABS(number)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns the absolute value.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ABS(-5) // 5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >CEIL(number)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Rounds up to nearest integer.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CEIL(4.2) // 5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >FLOOR(number)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Rounds down to nearest integer.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN FLOOR(4.8) // 4</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >ROUND(num, prec?)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Rounds to specified precision.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ROUND(3.14159, 2) // 3.14</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >RANDOM()</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns a random float between 0 and 1.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN RANDOM() // 0.54321...</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >SQRT(number)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns the square root.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SQRT(16) // 4</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >POW(base, exp)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns base raised to exponent.
              </p>
               <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN POW(2, 3) // 8</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >LOG(x) / LOG10(x) / LOG2(x)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Natural, base-10, and base-2 logarithms.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LOG10(100) // 2</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >EXP(x)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns e raised to the power of x.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN EXP(1) // 2.718...</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >PI()</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Returns the value of PI.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN PI() // 3.14159...</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >SIN(x) / COS(x) / TAN(x)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Trigonometric functions (radians).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SIN(PI()/2) // 1</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30"
                  >ASIN(x) / ACOS(x) / ATAN(x)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Inverse trigonometric functions.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ATAN(1) * 4 // 3.14159...</code></pre>
            </div>
          </div>
        </div>

        <!-- Time Series -->
        <div class="mb-12" id="func-timeseries">
          <h3 class="text-xl font-bold text-cyan-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-cyan-500 rounded-full mr-3"></span>
            Time Series
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors group"
            >
              <div class="flex justify-between items-start mb-3">
                <code
                  class="text-sm font-bold text-white bg-cyan-500/20 px-2 py-1 rounded border border-cyan-500/30"
                  >TIME_BUCKET(time, interval)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-3">
                Buckets timestamp into fixed intervals.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TIME_BUCKET(date_str, "5m")</code></pre>
            </div>
          </div>
        </div>

        <!-- String -->
        <div class="mb-12" id="func-string">
          <h3 class="text-xl font-bold text-purple-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-purple-500 rounded-full mr-3"></span>
            String
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >CONCAT(str1, ...)</code
              >
              <p class="text-sm text-gray-400 mb-3">Concatenates strings.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CONCAT("A", "B") // "AB"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >CONCAT_SEPARATOR(sep, arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Joins array with separator.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CONCAT_SEPARATOR(",", ["A","B"])</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >LENGTH(str)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns string length.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LENGTH("Hello") // 5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >SUBSTRING(str, start, len?)</code
              >
              <p class="text-sm text-gray-400 mb-3">Extracts substring.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SUBSTRING("Hello", 0, 2) // "He"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >LOWER(str) / UPPER(str)</code
              >
              <p class="text-sm text-gray-400 mb-3">Case conversion.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LOWER("Hi") // "hi"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >LEVENSHTEIN(s1, s2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Calculates edit distance.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LEVENSHTEIN("foo", "bar")</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >REGEX_REPLACE(text, pattern, replacement,
                caseInsensitive?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Replace occurrences of a pattern in a string.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN REGEX_REPLACE("the quick brown fox", "the (.*) fox", "a $1 dog")
// "a quick brown dog"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >CONTAINS(text, search, returnIndex?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Checks if search string is in text. Returns boolean or index.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CONTAINS("foobar", "bar") // true
RETURN CONTAINS("foobar", "bar", true) // 3</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >SUBSTITUTE(val, search, replace, limit?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Replaces occurrences of search with replace.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SUBSTITUTE("foobar", "foo", "baz") // "bazbar"
RETURN SUBSTITUTE("banana", "a", "o", 2) // "bonona"
RETURN SUBSTITUTE("hello", {"l": "x", "o": "y"}) // "hexxiy"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >SPLIT(val, sep, limit?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Splits string into array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SPLIT("foo-bar-baz", "-") // ["foo", "bar", "baz"]
RETURN SPLIT("foo-bar-baz", "-", 2) // ["foo", "bar-baz"]
RETURN SPLIT("foo-bar-baz", "-", -2) // ["foo-bar", "baz"]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >TRIM(val, type?/chars?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Trims whitespace or chars. type: 0=both, 1=left, 2=right.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TRIM(" foo ") // "foo"
RETURN TRIM(" foo ", 1) // "foo "
RETURN TRIM("--foo--", "-") // "foo"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >LTRIM(val, chars?)</code
              >
              <p class="text-sm text-gray-400 mb-3">Trims from start.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LTRIM(" foo ") // "foo "</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >RTRIM(val, chars?)</code
              >
              <p class="text-sm text-gray-400 mb-3">Trims from end.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN RTRIM(" foo ") // " foo"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >JSON_PARSE(text)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Parses JSON string to value. Returns NULL on error.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN JSON_PARSE("{\"a\":1}") // {a: 1}</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >JSON_STRINGIFY(value)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Serializes value to JSON string.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN JSON_STRINGIFY({a: 1}) // "{\"a\":1}"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >LEFT(str, n) / RIGHT(str, n)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Extracts n characters from start or end.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LEFT("Hello", 2) // "He"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >CHAR_LENGTH(str)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns number of characters (Unicode aware).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CHAR_LENGTH("æ—¥æœ¬èªž") // 3</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >FIND_FIRST(str, search) / FIND_LAST</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns index of first/last occurrence.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN FIND_FIRST("hello", "l") // 2</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >REGEX_TEST(str, pattern)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Tests if string matches regex. Alias: REGEX_MATCH.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN REGEX_TEST("abc", "a.*") // true</code></pre>
            </div>
          </div>
        </div>

        <!-- Type Casting -->
        <div class="mb-12">
          <h3
            class="text-xl font-bold text-white mb-4 border-b border-white/10 pb-2"
          >
            Type Casting Functions
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >TO_BOOL(value)</code
              >
              <p class="text-sm text-gray-400 mb-3">Casts value to boolean.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TO_BOOL(null) // false
RETURN TO_BOOL(1) // true
RETURN TO_BOOL(0) // false</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >TO_NUMBER(value)</code
              >
              <p class="text-sm text-gray-400 mb-3">Casts value to number.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TO_NUMBER("123") // 123
RETURN TO_NUMBER(true) // 1
RETURN TO_NUMBER("foo") // 0</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >TO_STRING(value)</code
              >
              <p class="text-sm text-gray-400 mb-3">Casts value to string.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TO_STRING(123) // "123"
RETURN TO_STRING(true) // "true"
RETURN TO_STRING(null) // ""</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-purple-500/20 px-2 py-1 rounded border border-purple-500/30 w-fit mb-3"
                >TO_ARRAY(value)</code
              >
              <p class="text-sm text-gray-400 mb-3">Casts value to array.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TO_ARRAY(null) // []
RETURN TO_ARRAY("foo") // ["foo"]
RETURN TO_ARRAY({a:1}) // [1]</code></pre>
            </div>
          </div>
        </div>

        <!-- Logical & Conditional -->
        <div class="mb-12">
          <h3 class="text-xl font-bold text-blue-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-blue-500 rounded-full mr-3"></span>
            Logical & Conditional
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >IF(cond, true, false)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Condition evaluation. Returns true_val if cond is true, else false_val.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IF(1 > 0, "yes", "no") // "yes"
RETURN IF(null, 1, 0) // 0</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >cond ? true : false</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Ternary operator. Syntactic sugar for IF function.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN doc.age >= 18 ? "Adult" : "Minor"
RETURN a ? b ? "both" : "a" : "none"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >COALESCE(val1, val2, ...)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the first non-null value. Alias: NOT_NULL.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN COALESCE(null, 0, 5) // 0</code></pre>
            </div>
          </div>
        </div>

        <!-- Type Checking -->
        <div class="mb-12" id="func-type">
          <h3 class="text-xl font-bold text-teal-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-teal-500 rounded-full mr-3"></span>
            Type Checking
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_ARRAY(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is an array.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_ARRAY([1,2]) // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_BOOLEAN(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is a boolean.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_BOOLEAN(true) // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_NUMBER(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is a number.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_NUMBER(42) // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_INTEGER(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is an integer (no decimals).</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_INTEGER(3.14) // false</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_STRING(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is a string.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_STRING("hi") // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_OBJECT(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is an object.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_OBJECT({a:1}) // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_NULL(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is null.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_NULL(null) // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >IS_DATETIME(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns true if value is an ISO 8601 date string.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN IS_DATETIME("2024-01-15T10:30:00Z") // true</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-teal-500/20 px-2 py-1 rounded border border-teal-500/30 w-fit mb-3"
                >TYPENAME(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">Returns the type name as a string.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN TYPENAME([1,2]) // "array"
RETURN TYPENAME("hi") // "string"</code></pre>
            </div>
          </div>
        </div>


        <!-- Date Functions (New) -->
        <div class="mb-12" id="func-date">
          <h3 class="text-xl font-bold text-pink-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-pink-500 rounded-full mr-3"></span>
            Date
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_NOW()</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns current Unix timestamp (ms).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_NOW() // 1733234387000</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_ISO8601(timestamp)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Converts timestamp to ISO 8601 string.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_ISO8601(1733234387000)
// "2025-12-03T13:59:47.000Z"</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_TIMESTAMP(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Converts ISO 8601 string to timestamp (ms).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_TIMESTAMP("2025-12-03T13:59:47.000Z")
// 1764770387000</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_ISOWEEK(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns ISO 8601 week number (1-53).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_ISOWEEK("2025-06-15T14:30:45Z")
// 24</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_DAYOFYEAR(date, tz?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns day of year (1-366). Optional timezone.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_DAYOFYEAR("2025-06-15T14:30:45Z")
// 166</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_DAYS_IN_MONTH(date, tz?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns days in the month (28-31). Optional timezone.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_DAYS_IN_MONTH("2024-02-15T00:00:00Z")
// 29 (leap year)</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_YEAR/MONTH/DAY(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Extracts year, month, or day.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_MONTH(DATE_NOW())</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_HOUR/MINUTE/SECOND(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Extracts time components.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_HOUR("2024-01-01T15:00:00Z") // 15</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_DAYOFWEEK(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns day of week (0=Sunday to 6=Saturday).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_DAYOFWEEK("2024-01-07") // 0</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
                >DATE_QUARTER(date)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns quarter of the year (1-4).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN DATE_QUARTER("2024-12-01") // 4</code></pre>
            </div>
          </div>
          <div
            class="mt-6 bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
          >
            <code
              class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
              >DATE_TRUNC(date, unit, timezone?)</code
            >
            <p class="text-sm text-gray-400 mb-4">
              Truncates date to specified unit. Returns ISO 8601 string.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Parameters
                </h5>
                <ul class="text-xs text-gray-400 space-y-1">
                  <li>
                    <code class="text-pink-300">date</code> - timestamp (ms) or
                    ISO 8601 string
                  </li>
                  <li>
                    <code class="text-pink-300">unit</code> - y/year, m/month,
                    d/day, h/hour, i/minute, s/second, f/millisecond
                  </li>
                  <li>
                    <code class="text-pink-300">timezone</code> - optional IANA
                    timezone (e.g. "America/New_York")
                  </li>
                </ul>
              </div>
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Examples
                </h5>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">DATE_TRUNC("2025-06-15T14:30:45Z", "day")
// "2025-06-15T00:00:00.000Z"

DATE_TRUNC("2025-06-15T20:30:00Z", "day", "America/New_York")
// "2025-06-15T04:00:00.000Z"</code></pre>
              </div>
            </div>
          </div>
          <div
            class="mt-6 bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
          >
            <code
              class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
              >DATE_FORMAT(date, format, timezone?)</code
            >
            <p class="text-sm text-gray-400 mb-4">
              Formats date according to format string (strftime-style).
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Format Specifiers
                </h5>
                <div class="grid grid-cols-2 gap-1 text-xs text-gray-400">
                  <span
                    ><code class="text-pink-300">%Y</code> - year (2025)</span
                  >
                  <span
                    ><code class="text-pink-300">%m</code> - month (01-12)</span
                  >
                  <span
                    ><code class="text-pink-300">%d</code> - day (01-31)</span
                  >
                  <span
                    ><code class="text-pink-300">%H</code> - hour 24h
                    (00-23)</span
                  >
                  <span
                    ><code class="text-pink-300">%M</code> - minute
                    (00-59)</span
                  >
                  <span
                    ><code class="text-pink-300">%S</code> - second
                    (00-59)</span
                  >
                  <span
                    ><code class="text-pink-300">%I</code> - hour 12h
                    (01-12)</span
                  >
                  <span><code class="text-pink-300">%p</code> - AM/PM</span>
                  <span
                    ><code class="text-pink-300">%A</code> - weekday
                    (Sunday)</span
                  >
                  <span
                    ><code class="text-pink-300">%B</code> - month (June)</span
                  >
                  <span
                    ><code class="text-pink-300">%j</code> - day of year</span
                  >
                  <span><code class="text-pink-300">%V</code> - ISO week</span>
                </div>
              </div>
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Examples
                </h5>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">DATE_FORMAT("2025-06-15T14:30:45Z", "%Y-%m-%d")
// "2025-06-15"

DATE_FORMAT("2025-06-15T14:30:45Z", "%I:%M %p")
// "02:30 PM"

DATE_FORMAT("2025-06-15T14:30:00Z", "%H:%M", "America/New_York")
// "10:30"</code></pre>
              </div>
            </div>
          </div>
          <div
            class="mt-6 bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
          >
            <code
              class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
              >DATE_ADD(date, amount, unit, timezone?)</code
            >
            <p class="text-sm text-gray-400 mb-4">
              Add or subtract a specified amount of time to/from a date. Returns
              ISO 8601 string.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Parameters
                </h5>
                <ul class="text-xs text-gray-400 space-y-1">
                  <li>
                    <code class="text-pink-300">date</code> - timestamp (ms) or
                    ISO 8601 string
                  </li>
                  <li>
                    <code class="text-pink-300">amount</code> - number to add
                    (positive) or subtract (negative)
                  </li>
                  <li>
                    <code class="text-pink-300">unit</code> - y/year, m/month,
                    w/week, d/day, h/hour, i/minute, s/second, f/millisecond
                  </li>
                  <li>
                    <code class="text-pink-300">timezone</code> - optional IANA
                    timezone (e.g. "America/New_York")
                  </li>
                </ul>
              </div>
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Examples
                </h5>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">DATE_ADD("2025-06-15T14:30:45Z", 3, "months")
// "2025-09-15T14:30:45.000Z"

DATE_ADD("2025-06-15T14:30:45Z", -7, "days")
// "2025-06-08T14:30:45.000Z"

DATE_ADD(1733234387000, 2, "hours")
// "2024-12-03T15:59:47.000Z"</code></pre>
              </div>
            </div>
          </div>
          <div
            class="mt-6 bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
          >
            <code
              class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
              >DATE_SUBTRACT(date, amount, unit, timezone?)</code
            >
            <p class="text-sm text-gray-400 mb-4">
              Subtract a specified amount of time from a date. Convenience
              wrapper for DATE_ADD with negated amount. Returns ISO 8601 string.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Parameters
                </h5>
                <ul class="text-xs text-gray-400 space-y-1">
                  <li>
                    <code class="text-pink-300">date</code> - timestamp (ms) or
                    ISO 8601 string
                  </li>
                  <li>
                    <code class="text-pink-300">amount</code> - number to
                    subtract (always positive)
                  </li>
                  <li>
                    <code class="text-pink-300">unit</code> - y/year, m/month,
                    w/week, d/day, h/hour, i/minute, s/second, f/millisecond
                  </li>
                  <li>
                    <code class="text-pink-300">timezone</code> - optional IANA
                    timezone (e.g. "America/New_York")
                  </li>
                </ul>
              </div>
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Examples
                </h5>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">DATE_SUBTRACT("2025-06-15T14:30:45Z", 7, "days")
// "2025-06-08T14:30:45.000Z"

DATE_SUBTRACT("2025-06-15T14:30:45Z", 3, "months")
// "2025-03-15T14:30:45.000Z"

DATE_SUBTRACT(1733234387000, 1, "day")
// "2024-12-02T13:59:47.000Z"</code></pre>
              </div>
            </div>
          </div>
          <div
            class="mt-6 bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
          >
            <code
              class="block text-sm font-bold text-white bg-pink-500/20 px-2 py-1 rounded border border-pink-500/30 w-fit mb-3"
              >DATE_DIFF(date1, date2, unit, asFloat?, timezone1?,
              timezone2?)</code
            >
            <p class="text-sm text-gray-400 mb-4">
              Calculate the difference between two dates in a given time unit.
              Returns negative if date2 is before date1.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Parameters
                </h5>
                <ul class="text-xs text-gray-400 space-y-1">
                  <li>
                    <code class="text-pink-300">date1</code> - timestamp (ms) or
                    ISO 8601 string
                  </li>
                  <li>
                    <code class="text-pink-300">date2</code> - timestamp (ms) or
                    ISO 8601 string
                  </li>
                  <li>
                    <code class="text-pink-300">unit</code> - y/year, m/month,
                    w/week, d/day, h/hour, i/minute, s/second, f/millisecond
                  </li>
                  <li>
                    <code class="text-pink-300">asFloat</code> - optional,
                    preserve decimal places (default: false)
                  </li>
                  <li>
                    <code class="text-pink-300">timezone1</code> - optional IANA
                    timezone for date1
                  </li>
                  <li>
                    <code class="text-pink-300">timezone2</code> - optional IANA
                    timezone for date2
                  </li>
                </ul>
              </div>
              <div>
                <h5
                  class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-2"
                >
                  Examples
                </h5>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">DATE_DIFF("2025-06-01T00:00:00Z", "2025-06-11T00:00:00Z", "days")
// 10

DATE_DIFF("2025-06-15T00:00:00Z", "2025-06-15T12:00:00Z", "days", true)
// 0.5

DATE_DIFF("2025-06-15T00:00:00Z", "2025-06-10T00:00:00Z", "days")
// -5 (negative: date2 before date1)</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Geospatial -->
        <div class="mb-12" id="func-geo">
          <h3 class="text-xl font-bold text-green-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-green-500 rounded-full mr-3"></span>
            Geospatial
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-green-500/20 px-2 py-1 rounded border border-green-500/30 w-fit mb-3"
                >DISTANCE(lat1, lon1, lat2, lon2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Distance in meters between coordinates.
              </p>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-green-500/20 px-2 py-1 rounded border border-green-500/30 w-fit mb-3"
                >GEO_DISTANCE(p1, p2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Distance in meters between GeoPoints.
              </p>
            </div>
          </div>
        </div>

        <!-- Fulltext -->
        <div class="mb-12" id="func-fulltext">
          <h3 class="text-xl font-bold text-yellow-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-yellow-500 rounded-full mr-3"></span>
            Fulltext Search
          </h3>
          <div class="space-y-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-yellow-500/20 px-2 py-1 rounded border border-yellow-500/30 w-fit mb-3"
                >FULLTEXT(col, field, query, dist?)</code
              >
              <p class="text-sm text-gray-400 mb-4">
                Fuzzy search using n-gram indexing.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">LET matches = FULLTEXT("articles", "title", "rust", 2)
FOR m IN matches RETURN m.doc</code></pre>
            </div>

            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-6 hover:bg-gray-800/60 transition-colors"
            >
              <div class="flex items-center mb-3">
                <code
                  class="block text-sm font-bold text-white bg-yellow-500/20 px-2 py-1 rounded border border-yellow-500/30 w-fit"
                  >BM25(field, query)</code
                >
              </div>
              <p class="text-sm text-gray-400 mb-4">
                BM25 relevance scoring for ranking search results. Returns a
                numeric score that can be used in SORT clauses.
              </p>

              <div
                class="bg-yellow-900/10 border border-yellow-500/30 rounded-lg p-4 mb-4 flex items-start"
              >
                <svg
                  class="w-5 h-5 text-yellow-400 mt-0.5 mr-3 flex-shrink-0"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
                <div>
                  <h4 class="text-yellow-300 font-bold mb-1 text-sm">
                    BM25 Algorithm
                  </h4>
                  <p class="text-sm text-yellow-200/70">
                    BM25 (Best Matching 25) is a probabilistic ranking function
                    that provides more sophisticated relevance scoring than
                    n-gram similarity. It considers term frequency, document
                    length, and inverse document frequency.
                  </p>
                </div>
              </div>

              <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Basic Scoring
                  </h4>
                  <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">FOR doc IN articles
  RETURN {
    title: doc.title,
    score: BM25(doc.content, "machine learning")
  }</code></pre>
                </div>
                <div>
                  <h4
                    class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                  >
                    Sort by Relevance
                  </h4>
                  <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">FOR doc IN articles
  SORT BM25(doc.content, "rust database") DESC
  LIMIT 10
  RETURN doc</code></pre>
                </div>
              </div>

              <div class="mt-4">
                <h4
                  class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"
                >
                  Combined with Filters
                </h4>
                <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">FOR doc IN articles
  FILTER doc.published == true
  SORT BM25(doc.content, "query optimization") DESC
  LIMIT 5
  RETURN {title: doc.title, score: BM25(doc.content, "query optimization")}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Aggregation -->
        <div class="mb-12" id="func-aggregation">
          <h3 class="text-xl font-bold text-blue-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-blue-500 rounded-full mr-3"></span>
            Aggregation
          </h3>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Basic Aggregations
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >SUM(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Sum of all values in the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SUM([1, 2, 3, 4]) // 10</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >AVG(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">Average of all values.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN AVG([1, 2, 3, 4]) // 2.5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >MIN(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Smallest value in the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MIN([5, 1, 9]) // 1</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >MAX(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Largest value in the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MAX([5, 1, 9]) // 9</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >COUNT(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Number of elements in the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN COUNT([1, 2, 3]) // 3</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >COUNT_DISTINCT(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Number of unique elements.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN COUNT_DISTINCT([1, 2, 2, 3]) // 3</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >MEDIAN(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Median value of the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MEDIAN([1, 5, 10]) // 5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >PERCENTILE(arr, p)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the p-th percentile (0-100).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN PERCENTILE([1..100], 95) // 95</code></pre>
            </div>
          </div>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Statistical Functions
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >VARIANCE(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">Population variance.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN VARIANCE([1, 2, 3, 4, 5]) // 2</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >VARIANCE_SAMPLE(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">Sample variance.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN VARIANCE_SAMPLE([1, 2, 3, 4, 5]) // 2.5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >STDDEV(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Sample standard deviation.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN STDDEV([1, 2, 3, 4, 5]) // 1.581...</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30 w-fit mb-3"
                >STDDEV_POPULATION(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Population standard deviation.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN STDDEV_POPULATION([1, 2, 3, 4, 5]) // 1.414...</code></pre>
            </div>
          </div>

          <div class="bg-gray-800/30 rounded-xl p-5 border border-white/5">
            <h4 class="text-sm font-bold text-gray-300 mb-3">
              Aggregation Example
            </h4>
            <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">FOR u IN users
  LET amounts = (FOR o IN orders FILTER o.user == u._key RETURN o.amount)
  RETURN {
    user: u.name,
    total: SUM(amounts),
    avg: ROUND(AVG(amounts), 2),
    count: COUNT(amounts),
    median: MEDIAN(amounts),
    stddev: ROUND(STDDEV(amounts), 2)
  }</code></pre>
          </div>
        </div>

        <!-- Array Functions -->
        <div class="mb-12" id="func-array">
          <h3 class="text-xl font-bold text-orange-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-orange-500 rounded-full mr-3"></span>
            Array
          </h3>

          <!-- Array Spread Operator -->
          <div
            class="bg-gradient-to-r from-orange-500/10 to-amber-500/10 rounded-xl border border-orange-500/20 overflow-hidden mb-8"
          >
            <div class="p-5 border-b border-orange-500/20 bg-orange-500/5">
              <h4 class="text-lg font-bold text-orange-300 flex items-center">
                <span
                  class="bg-orange-500/20 text-orange-400 text-xs font-mono px-2 py-1 rounded mr-3"
                  >[*]</span
                >
                Array Spread Operator
              </h4>
            </div>
            <div class="p-5 space-y-4">
              <p class="text-gray-300 leading-relaxed">
                The array spread operator <code class="text-orange-400">[*]</code> extracts a specific field from all elements in an array, returning a new array with just those values. This is similar to a map operation.
              </p>

              <div class="bg-gray-950/50 rounded-xl border border-white/5 p-4">
                <pre><code class="language-sql text-sm">// Extract user_key from all attendees
FOR event IN events
  RETURN event.attendees[*].user_key
// Result: [["u1", "u2"], ["u3"]]

// Nested field extraction
FOR doc IN data
  RETURN doc.items[*].user.name
// Result: [["Alice", "Bob"]]</code></pre>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div
                  class="bg-gray-800/30 rounded-xl p-4 border border-white/5"
                >
                  <h5 class="text-orange-300 font-bold mb-2 text-sm">Basic Usage</h5>
                  <pre><code class="language-sql text-xs">// Given: {items: [{name: "A"}, {name: "B"}]}
doc.items[*].name  // ["A", "B"]</code></pre>
                </div>
                <div
                  class="bg-gray-800/30 rounded-xl p-4 border border-white/5"
                >
                  <h5 class="text-orange-300 font-bold mb-2 text-sm">Chained Spread</h5>
                  <pre><code class="language-sql text-xs">// Given: {items: [{tags: ["a","b"]}, {tags: ["c"]}]}
doc.items[*].tags[*]  // ["a", "b", "c"]</code></pre>
                </div>
                <div
                  class="bg-gray-800/30 rounded-xl p-4 border border-white/5"
                >
                  <h5 class="text-orange-300 font-bold mb-2 text-sm">Missing Fields</h5>
                  <pre><code class="language-sql text-xs">// Given: {items: [{name: "A"}, {other: "B"}]}
doc.items[*].name  // ["A", null]</code></pre>
                </div>
                <div
                  class="bg-gray-800/30 rounded-xl p-4 border border-white/5"
                >
                  <h5 class="text-orange-300 font-bold mb-2 text-sm">Bare Spread</h5>
                  <pre><code class="language-sql text-xs">// Given: {values: [1, 2, 3]}
doc.values[*]  // [1, 2, 3]</code></pre>
                </div>
              </div>

              <div class="bg-gray-800/40 rounded-lg p-4 border border-white/5 mt-4">
                <p class="text-sm text-gray-400">
                  <span class="text-orange-400 font-bold">Note:</span>
                  If the base value is not an array, an empty array is returned.
                  When a field is missing from an array element, <code class="text-gray-300">null</code> is included in the result.
                </p>
              </div>
            </div>
          </div>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Access Functions
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >FIRST(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the first element.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN FIRST([5, 1, 9]) // 5</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >COLLECTION_COUNT(coll)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the number of documents in a collection.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN COLLECTION_COUNT("users") // 100</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >LAST(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the last element.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LAST([5, 1, 9]) // 9</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >NTH(arr, n)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns element at index n (0-based).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN NTH([5, 1, 9], 1) // 1</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >SLICE(arr, start, len?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Extracts a portion of the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SLICE([1, 2, 3, 4, 5], 1, 3) // [2, 3, 4]</code></pre>
            </div>
          </div>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Transformation Functions
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >UNIQUE(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Removes duplicate values.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN UNIQUE([1, 2, 2, 3]) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >SORTED(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Sorts the array in ascending order.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SORTED([3, 1, 2]) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >SORTED_UNIQUE(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Sorts and removes duplicates.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SORTED_UNIQUE([3, 1, 2, 2]) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >REVERSE(arr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Reverses the array order.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN REVERSE([1, 2, 3]) // [3, 2, 1]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >FLATTEN(arr, depth?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Flattens nested arrays. Depth defaults to 1.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN FLATTEN([[1, 2], [3]], 1) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >RANGE(start, end, step?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Generates an array of numbers.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN RANGE(1, 5) // [1, 2, 3, 4, 5]
RETURN RANGE(1, 5, 2) // [1, 3, 5]</code></pre>
            </div>
          </div>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Combination Functions
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >PUSH(arr, elem)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Appends an element to the array.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN PUSH([1, 2], 3) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >APPEND(arr1, arr2)</code
              >
              <p class="text-sm text-gray-400 mb-3">Concatenates two arrays.</p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN APPEND([1], [2, 3]) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >UNION(arr1, arr2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Union of arrays (produces unique values).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN UNION([1, 2], [2, 3]) // [1, 2, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >INTERSECTION(arr1, arr2...)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns common elements between arrays.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN INTERSECTION([1, 2], [2, 3]) // [2]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >MINUS(arr1, arr2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns elements in arr1 not in arr2.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MINUS([1, 2, 3], [2]) // [1, 3]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >ZIP(arr1, arr2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Zips two arrays into an array of pairs.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ZIP([1, 2], ["a", "b"]) // [[1, "a"], [2, "b"]]</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >REMOVE_VALUE(arr, val, limit?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Removes all occurrences of value from array. Optional limit.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN REMOVE_VALUE([1, 2, 1, 3], 1) // [2, 3]</code></pre>
            </div>
          </div>

          <h4
            class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-3"
          >
            Search Functions
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >POSITION(arr, elem, start?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns 0-based index if element exists, -1 otherwise. Optional start index.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN POSITION([10, 20], 20) // 1
RETURN POSITION([10, 20], 30) // -1</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-orange-500/20 px-2 py-1 rounded border border-orange-500/30 w-fit mb-3"
                >CONTAINS_ARRAY(arr, elem)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns true if array contains element, false otherwise.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN CONTAINS_ARRAY([1, 2], 3) // false
RETURN CONTAINS_ARRAY([1, 2], 1) // true</code></pre>
            </div>
          </div>

          <div class="bg-gray-800/30 rounded-xl p-5 border border-white/5">
            <h4 class="text-sm font-bold text-gray-300 mb-3">Array Examples</h4>
            <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">-- Combine and deduplicate tags
LET tags1 = ["rust", "database"]
LET tags2 = ["database", "nosql"]
RETURN UNION(tags1, tags2)  -- ["rust", "database", "nosql"]

-- Get top 3 values from sorted array
LET values = [5, 2, 8, 1, 9, 3]
RETURN SLICE(SORTED(values), 3, 3)  -- [5, 8, 9] (last 3)

-- Flatten nested arrays
LET nested = [[1, 2], [3, [4, 5]]]
RETURN FLATTEN(nested, 2)  -- [1, 2, 3, 4, 5]</code></pre>
          </div>
        </div>

        <!-- Object & Array -->
        <div class="mb-12" id="func-object">
          <h3 class="text-xl font-bold text-gray-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-gray-500 rounded-full mr-3"></span>
            Object & Array
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >MERGE(obj1, obj2)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Shallow merge of objects.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MERGE({a:1}, {b:2})</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >LENGTH(val)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Count elements in array/object.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN LENGTH([1,2,3]) // 3</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >HAS(doc, attr)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Checks if document contains attribute.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">FILTER HAS(doc, "email")</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >KEEP(doc, attr...)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Keep only specified attributes.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN KEEP(doc, "name", "email")</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >ATTRIBUTES(doc, removeInternal?, sort?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                 Top-level attribute keys of the document.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ATTRIBUTES(doc, true)</code></pre>
            </div>

            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >VALUES(doc, removeInternal?)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns top-level attribute values.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN VALUES(doc, true)</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-gray-700 px-2 py-1 rounded border border-gray-600 w-fit mb-3"
                >UNSET(doc, attr...)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Removes specified attributes.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN UNSET(doc, "password")</code></pre>
            </div>
          </div>
        </div>

        <!-- Miscellaneous Functions -->
        <div class="mb-12" id="func-misc">
          <h3 class="text-xl font-bold text-gray-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-indigo-500 rounded-full mr-3"></span>
            Miscellaneous
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >UUIDV4()</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Generates a random v4 UUID.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN UUIDV4() // "c4d3..."</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >UUIDV7()</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Generates a time-ordered v7 UUID.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN UUIDV7() // "018..."</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >MD5(string)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Calculates MD5 hash.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN MD5("hello")</code></pre>
            </div>

            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-amber-500/20 px-2 py-1 rounded border border-amber-500/30 w-fit mb-3"
                >SHA256(string)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Calculates SHA256 hash.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SHA256("hello")</code></pre>
            </div>

            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-amber-500/20 px-2 py-1 rounded border border-amber-500/30 w-fit mb-3"
                >BASE64_ENCODE(string)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Encodes string to Base64.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN BASE64_ENCODE("hello")</code></pre>
            </div>

            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-amber-500/20 px-2 py-1 rounded border border-amber-500/30 w-fit mb-3"
                >BASE64_DECODE(string)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Decodes Base64 string.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN BASE64_DECODE("aGVsbG8=")</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >SHA256(string)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Calculates SHA256 hash.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SHA256("hello")</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >SLEEP(ms)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Pauses execution (testing).
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN SLEEP(1000)</code></pre>
            </div>
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-indigo-500/20 px-2 py-1 rounded border border-indigo-500/30 w-fit mb-3"
                >ASSERT(cond, msg)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Throws error if condition false.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN ASSERT(x > 0, "Fail")</code></pre>
            </div>
          </div>
        </div>

        <!-- Collection -->
        <div class="mb-12" id="func-collection">
          <h3 class="text-xl font-bold text-cyan-300 mb-6 flex items-center">
            <span class="w-2 h-8 bg-cyan-500 rounded-full mr-3"></span>
            Collection
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="bg-gray-800/40 border border-white/5 rounded-xl p-5 hover:bg-gray-800/60 transition-colors"
            >
              <code
                class="block text-sm font-bold text-white bg-cyan-500/20 px-2 py-1 rounded border border-cyan-500/30 w-fit mb-3"
                >COLLECTION_COUNT(name)</code
              >
              <p class="text-sm text-gray-400 mb-3">
                Returns the number of documents in a collection. Efficient
                metadata lookup without iterating documents.
              </p>
              <pre><code class="language-sql text-xs bg-gray-950/50 p-2 rounded border border-white/5">RETURN COLLECTION_COUNT("users") // 42</code></pre>
            </div>
          </div>
          <div class="mt-4 bg-gray-800/30 rounded-xl p-5 border border-white/5">
            <h4 class="text-sm font-bold text-gray-300 mb-2">Usage Example</h4>
            <p class="text-sm text-gray-400 mb-3">
              Get document counts for multiple collections:
            </p>
            <pre><code class="language-sql text-xs bg-gray-950/50 p-3 rounded border border-white/5">RETURN {
  users: COLLECTION_COUNT("users"),
  orders: COLLECTION_COUNT("orders"),
  products: COLLECTION_COUNT("products")
}</code></pre>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
