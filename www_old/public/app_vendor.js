var t,e;t=this,e=function(t){"use strict";const e=0,n=1,r=2,o=3,s=4,i={EACH:0,IF:1,SIMPLE:2,TAG:3,SLOT:4},u=new Map,a=Symbol(),c=new Set,l="is",h="value",d=/^on/,m="mount",p="update",f="unmount",b="shouldUpdate",g="onBeforeMount",y="onMounted",v="onBeforeUpdate",N="onUpdated",E="onBeforeUnmount",O="onUnmounted",T="props",x="state",M="slots",A="root",S=Symbol(),w=Symbol(),j=Symbol(),C=Symbol(),D=Symbol();function P(t,e){return typeof t===e}function I(t){const e=t.ownerSVGElement;return!!e||null===e}function _(t){return"template"===t.tagName.toLowerCase()}function L(t){return P(t,"function")}function k(t){return!B(t)&&t.constructor===Object}function B(t){return null==t}function U(t){return d.test(t)}function R(t){return t.replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function $(t){return Array.from(t.attributes).reduce((t,e)=>(t[R(e.name)]=e.value,t),{})}function z(t){for(;t.firstChild;)t.removeChild(t.firstChild)}const K=t=>t.remove(),Y=(t,e)=>e?.parentNode?.insertBefore(t,e),F=(G="undefined"!=typeof Element&&Element.prototype.moveBefore,(t,e)=>G?e?.parentNode?.moveBefore(t,e):Y(t,e));var G;const H=(t,e)=>e?.parentNode?.replaceChild(t,e),V=0,q=1,W=2,X=3,Z=4,J={ATTRIBUTE:0,EVENT:q,TEXT:2,VALUE:3,REF:Z};function Q(){return this}function tt(t){return L(t)?t.prototype&&t.prototype.constructor?new t:t():t}function et(t){const e=new Map,n=n=>(e.has(n)||e.set(n,t.call(this,n)))&&e.get(n);return n.cache=e,n}function nt(t,e){return t.reduce((t,{type:n,name:r,evaluate:o})=>{const s=o(e);switch(!0){case!r&&0===n:return{...t,...s};case n===Z:t.ref=s;break;case 3===n:t.value=s;break;default:t[R(r)]=s}return t},{})}function rt(t,e,n,r={}){return Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!1,configurable:!0,...r}),t}function ot(t,e,n){return Object.entries(e).forEach(([e,r])=>{rt(t,e,r,n)}),t}function st(t,e){return Object.entries(e).forEach(([e,n])=>{t[e]||(t[e]=n)}),t}const it={[m](t){this.el=t},[p]:Q,[f](t,e,n=!1){n?K(this.el):n||z(this.el)},clone(){return{...this}},createDOM:Q},ut=Symbol(),at=Symbol(),ct=Symbol(),lt={nodes:[],mount(t,e){return this.update(t,e)},update(t,e){const{placeholder:n,nodes:r,childrenMap:o}=this,s=t===ct?null:this.evaluate(t),i=s?Array.from(s):[],{newChildrenMap:u,batches:a,futureNodes:c}=function(t,e,n,r){const{condition:o,template:s,childrenMap:i,itemName:u,getKey:a,indexName:c,root:l,isTemplateTag:h}=r,d=new Map,m=[],p=[];return t.forEach((t,r)=>{const f=function(t,{itemName:e,indexName:n,index:r,item:o}){return rt(t,e,o),n&&rt(t,n,r),t}(Object.create(e),{itemName:u,indexName:c,index:r,item:t}),b=a?a(f):r,g=i.get(b),y=[];if(function(t,e){return!!t&&!t(e)}(o,f))return;const v=!g,N=g?g.template:s.clone(),E=N.el||l.cloneNode(),O=h&&v?function(t){const e=t.dom.cloneNode(!0),{head:n,tail:r}=function(){const t=document.createTextNode(""),e=document.createTextNode("");return t[ut]=!0,e[at]=!0,{head:t,tail:e}}();return{avoidDOMInjection:!0,fragment:e,head:n,tail:r,children:[n,...Array.from(e.childNodes),r]}}(N):N.meta;v?m.push(()=>N.mount(E,f,n,O)):m.push(()=>N.update(f,n)),h?y.push(...O.children):y.push(E),i.delete(b),p.push(...y),d.set(b,{nodes:y,template:N,context:f,index:r})}),{newChildrenMap:d,batches:m,futureNodes:p}}(i,t,e,this);return((t,e,n,r)=>{const o=e.length;let s=t.length,i=o,u=0,a=0,c=null;for(;u<s||a<i;)if(s===u){const t=i<o?a?n(e[a-1],-0).nextSibling:n(e[i-a],0):r;for(;a<i;)Y(n(e[a++],1),t)}else if(i===a)for(;u<s;)c&&c.has(t[u])||K(n(t[u],-1)),u++;else if(t[u]===e[a])u++,a++;else if(t[s-1]===e[i-1])s--,i--;else if(t[u]===e[i-1]&&e[a]===t[s-1]){const r=n(t[--s],-1).nextSibling;F(n(e[a++],1),n(t[u++],-1).nextSibling),F(n(e[--i],1),r),t[s]=e[i]}else{if(!c){c=new Map;let t=a;for(;t<i;)c.set(e[t],t++)}if(c.has(t[u])){const r=c.get(t[u]);if(a<r&&r<i){let o=u,l=1;for(;++o<s&&o<i&&c.get(t[o])===r+l;)l++;if(l>r-a){const o=n(t[u],0);for(;a<r;)F(n(e[a++],1),o)}else H(n(e[a++],1),n(t[u++],-1))}else u++}else K(n(t[u++],-1))}})(r,c,function(t,e){return(n,r)=>{if(r<0){const n=t[t.length-1];if(n){const{template:r,nodes:o,context:s}=n;o.pop(),o.length||(t.pop(),r.unmount(s,e,null))}}return n}}(Array.from(o.values()),e),n),a.forEach(t=>t()),this.childrenMap=u,this.nodes=c,this},unmount(t,e){return this.update(ct,e),this}},ht={mount(t,e){return this.update(t,e)},update(t,e){const n=!!this.evaluate(t),r=!this.value&&n,o=this.value&&!n,s=()=>{const n=this.node.cloneNode();Y(n,this.placeholder),this.template=this.template.clone(),this.template.mount(n,t,e)};switch(!0){case r:s();break;case o:this.unmount(t);break;default:n&&this.template.update(t,e)}return this.value=n,this},unmount(t,e){return this.template.unmount(t,e,!0),this}};function dt({node:t,value:e},n){n?n(t):e(null)}function mt(t){return B(t)?"":t}function pt({node:t},e){t.value=mt(e)}const ft=/^on/,bt={handleEvent(t){this[t.type](t)}},gt=new WeakMap;function yt({node:t,name:e},n){const r=e.replace(ft,""),o=gt.get(t)||(t=>{const e=Object.create(bt);return gt.set(t,e),e})(t),[s,i]=(t=>Array.isArray(t)?t:[t,!1])(n),u=o[r],a=s&&!u;u&&!s&&t.removeEventListener(r,o),a&&t.addEventListener(r,o,i),o[r]=s}const vt="undefined"==typeof Element?{}:Element.prototype,Nt=et(t=>vt.hasOwnProperty(t)),Et=(t,e)=>t.childNodes[e],Ot={[V]:function t({node:e,name:n,isBoolean:r,value:o},s){if(!n)return o&&function(t,e,n){const r=e?Object.keys(e):[];Object.entries(n).filter(([t])=>!r.includes(t)).forEach(([e,n])=>{switch(!0){case"ref"===e:return dt({node:t,value:n});case e===h:return t.removeAttribute("value"),void(t.value="");case U(e):return yt({node:t,name:e},null);default:return t.removeAttribute(e)}})}(e,s,o),void(s&&function(e,n,r){Object.entries(n).filter(([t,e])=>e!==r?.[t]).forEach(([n,r])=>{switch(!0){case"ref"===n:return dt({node:e},r);case n===h:return pt({node:e},r);case U(n):return yt({node:e,name:n},r);default:return t({node:e,name:n},r)}})}(e,s,o));!Nt(n)&&(function(t){return P(t,"boolean")}(s)||k(s)||L(s))&&(e[n]=s),function(t,e){return e?!t:B(t)}(s,r)?e.removeAttribute(n):function(t){return["string","number","boolean"].includes(typeof t)}(s)&&e.setAttribute(n,function(t,e,n){return e&&n?t:e}(n,s,r))},[q]:yt,[W]:function({node:t},e){t.data=mt(e)},[X]:pt,[Z]:dt},Tt={mount(t){const e=this.evaluate(t);return Ot[this.type](this,e),this.value=e,this},update(t){const e=this.evaluate(t);return this.value!==e&&(Ot[this.type](this,e),this.value=e),this},unmount(){return([q,Z].includes(this.type)||0===this.type&&!this.name)&&Ot[this.type](this,null),this}};function xt(t,e){return{...Tt,...e,node:2===e.type?Et(t,e.childNodeIndex):t}}const Mt=(t,e)=>e?.find(e=>e.id===t),At=(t,e)=>t[j]||e,St={attributes:[],getTemplateScope(t,e){return((t,e,n)=>t&&t.length?Object.assign(Object.create(n||null),nt(t,e)):n)(this.attributes,t,e)},mount(t,e){const n=!!t.slots&&Mt(this.name,t.slots),{parentNode:r}=this.node,o=n?At(t,e):t;return this.templateData=n?.html?n:Mt(this.name,o.slots),this.template=this.templateData&&Lt(this.templateData.html,this.templateData.bindings).createDOM(r)||this.template?.clone(),this.template&&(z(this.node),this.template.mount(this.node,this.getTemplateScope(t,o),o),this.template.children=Array.from(this.node.childNodes)),wt(this.node),K(this.node),this},update(t,e){if(this.template){const n=this.templateData?At(t,e):t;this.template.update(this.getTemplateScope(t,n),n)}return this},unmount(t,e,n){return this.template&&this.template.unmount(this.getTemplateScope(t,e),null,n),this}};function wt(t){const e=t&&t.firstChild;e&&(Y(e,t),wt(t))}function jt(t){return t.reduce((t,{bindings:e})=>t.concat(e),[])}const Ct={mount(t){return this.update(t)},update(t,e){const n=this.evaluate(t);return n&&n===this.name?this.tag.update(t):(this.unmount(t,e,!0),this.name=n,this.tag=function(t,e=[],n=[]){return t?t({slots:e,attributes:n}):Lt(function(t){return t.reduce((t,e)=>t+e.html,"")}(e),[...jt(e),{expressions:n.map(t=>({type:0,...t}))}])}(this.getComponent(n),this.slots,this.attributes),this.tag.mount(this.node,t)),this},unmount(t,e,n){return this.tag&&this.tag.unmount(n),this}},Dt={[n]:function(t,{evaluate:e,template:n}){const r=document.createTextNode("");return Y(r,t),K(t),{...ht,node:t,evaluate:e,placeholder:r,template:n.createDOM(t)}},[r]:function(t,{expressions:e}){return n=e.map(e=>xt(t,e)),["mount","update","unmount"].reduce((t,e)=>({...t,[e]:t=>n.map(n=>n[e](t))&&void 0}),{});var n},[e]:function(t,{evaluate:e,condition:n,itemName:r,indexName:o,getKey:s,template:i}){const u=document.createTextNode(""),a=t.cloneNode();return Y(u,t),K(t),{...lt,childrenMap:new Map,node:t,root:a,condition:n,evaluate:e,isTemplateTag:_(a),template:i.createDOM(t),getKey:s,indexName:o,itemName:r,placeholder:u}},[o]:function(t,{evaluate:e,getComponent:n,slots:r,attributes:o}){return{...Ct,node:t,evaluate:e,slots:r,attributes:o,getComponent:n}},[s]:function(t,{name:e,attributes:n,template:r}){return{...St,attributes:n,template:r,node:t,name:e}}};function Pt(t,e){return t.map(t=>2===t.type?{...t,childNodeIndex:t.childNodeIndex+e}:t)}function It(t,e,n){const{selector:r,type:o,redundantAttribute:s,expressions:i}=e,u=r?t.querySelector(r):t;s&&u.removeAttribute(s);const a=i||[];return(Dt[o]||Dt[2])(u,{...e,expressions:n&&!r?Pt(a,n):a})}const _t={createDOM(t){return this.dom=this.dom||function(t,e){return e&&("string"==typeof e?function(t,e){return I(t)?function(t,e){return e.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${t}</svg>`,"application/xml").documentElement,!0)}(e,t):function(t,e){const n=_(e)?e:document.createElement("template");return n.innerHTML=t,n.content}(e,t)}(t,e):e)}(t,this.html)||document.createDocumentFragment(),this},mount(t,e,n,r={}){this.el&&this.unmount(e);const{fragment:o,children:s,avoidDOMInjection:i}=r,{parentNode:u}=s?s[0]:t,a=_(t),c=a?function(t,e,n){const r=Array.from(t.childNodes);return Math.max(r.indexOf(e),r.indexOf(n.head)+1,0)}(u,t,r):null;this.createDOM(t);const l=o||this.dom.cloneNode(!0);return this.el=a?u:t,this.children=a?s||Array.from(l.childNodes):null,!i&&l&&function(t,e){switch(!0){case I(t):!function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(e,t);break;case _(t):t.parentNode.replaceChild(e,t);break;default:t.appendChild(e)}}(t,l),this.bindings=this.bindingsData.map(t=>It(this.el,t,c)),this.bindings.forEach(t=>t.mount(e,n)),this.meta=r,this},update(t,e){return this.bindings.forEach(n=>n.update(t,e)),this},unmount(t,e,n=!1){const r=this.el;if(!r)return this;switch(this.bindings.forEach(r=>r.unmount(t,e,n)),!0){case r[S]||null===n:break;case Array.isArray(this.children):!function(t){for(let e=0;e<t.length;e++)K(t[e])}(this.children);break;case!n:z(r);break;case!!n:K(r)}return this.el=null,this},clone(){return{...this,meta:{},el:null}}};function Lt(t,e=[]){return{..._t,html:t,bindingsData:e}}const kt=Object.freeze({[m]:Q,[p]:Q,[f]:Q}),Bt=(t,e)=>t[a]=e;function Ut(t,{slots:e,attributes:n,props:r,css:o,template:s}){const i=st(t({slots:e,attributes:n,props:r}),kt);return u=t=>(...e)=>{if(t===m){const[t]=e;rt(t,S,!0),Bt(t,i)}return i[t](...e),i},[m,p,f].reduce((t,e)=>(t[e]=u(e),t),{});var u}function Rt(t){return Array.isArray(t)?t:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&"number"==typeof t.length?Array.from(t):[t]}function $t(t,e){return Rt("string"==typeof t?(e||document).querySelectorAll(t):t)}const zt=Object.freeze({$(t){return $t(t,this.root)[0]},$$(t){return $t(t,this.root)}}),Kt=Object.freeze({[b]:Q,[g]:Q,[y]:Q,[v]:Q,[N]:Q,[E]:Q,[O]:Q}),Yt=t=>1===t.length?t[0]:t;function Ft(t,e,n){const r="object"==typeof e?e:{[e]:n},o=Object.keys(r);return Rt(t).forEach(t=>{o.forEach(e=>t.setAttribute(e,r[e]))}),t}const Gt=new Map;var Ht;const Vt={CSS_BY_NAME:Gt,add(t,e){return Gt.has(t)||(Gt.set(t,e),this.inject()),this},inject(){return(Ht||(Ft(Ht=$t("style[riot]")[0]||document.createElement("style"),"type","text/css"),Ht.parentNode||document.head.appendChild(Ht),Ht)).innerHTML=[...Gt.values()].join("\n"),this},remove(t){return Gt.has(t)&&(Gt.delete(t),this.inject()),this}};function qt(t,...e){return(...n)=>(n=[...e,...n]).length<t.length?qt(t,...n):t(...n)}const Wt=et(t=>{const e=t?.bindingsData?.[0];return e?.selector?[]:e?.expressions?.reduce((t,{name:e,type:n})=>n===J.ATTRIBUTE?t.concat([e]):t,[])??[]});function Xt(t){return function(t,e){const n="string"==typeof e?[e]:e;return Yt(Rt(t).map(t=>Yt(n.map(e=>t.getAttribute(e)))))}(t,l)||t.tagName.toLowerCase()}function Zt(t,e){return{...t,...tt(e)}}function Jt(t,e={}){return{...$(t),...tt(e)}}function Qt(t,{slots:e,attributes:n=[],props:r}){return o=function(t){return[...c].reduce((t,e)=>e(t)||t,t)}(ot(k(t)?Object.create(t):t,{mount(o,s={},i){return rt(o,S,!1),this[j]=i,rt(this,T,Object.freeze({...Jt(o,r),...nt(n,i)})),this[x]=Zt(this[x],s),this[C]=this.template.createDOM(o).clone(),this[D]=Wt(this[C]),Bt(o,this),t.name&&function(t,e){Xt(t)!==e&&Ft(t,l,e)}(o,t.name),rt(this,A,o),rt(this,M,e),this[g](this[T],this[x]),this[C].mount(o,this,i),this[y](this[T],this[x]),this},update(t={},e){e&&(this[j]=e);const r=$({attributes:Array.from(this[A].attributes).filter(({name:t})=>!this[D].includes(t))}),{[l]:o,...s}={...r,...nt(n,this[j])};if(!1!==this[b](s,this[T]))return rt(this,T,Object.freeze({...e?null:this[T],...s})),this[x]=Zt(this[x],t),this[v](this[T],this[x]),this[w]||(this[w]=!0,this[C].update(this,this[j])),this[N](this[T],this[x]),this[w]=!1,this},unmount(t){return this[E](this[T],this[x]),t&&this[D].forEach(t=>this[A].removeAttribute(t)),this[C].unmount(this,this[j],null===t?null:!t),this[O](this[T],this[x]),this}})),Object.keys(t).filter(e=>L(t[e])).forEach(t=>{o[t]=o[t].bind(o)}),o;var o}function te({css:t,template:e,componentAPI:n,name:r}){return t&&r&&Vt.add(r,t),qt(Qt)(ot(st(n,{...Kt,[T]:{},[x]:{}}),{[M]:null,[A]:null,...zt,name:r,css:t,template:e}))}const ee=et(ne);function ne(t){const{css:e,template:n,exports:r,name:o}=t,s=n?function(t,e,n){return t(Lt,J,i,n)}(n,0,(t=>{const e=function(t={}){return Object.entries(tt(t)).reduce((t,[e,n])=>{var r;return t[(r=e,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())]=ne(n),t},{})}(t.exports?t.exports.components:{});return n=>n===t.name?ee(t):e[n]||u.get(n)})(t)):it;return({slots:t,attributes:i,props:u})=>{if(r&&r[S])return Ut(r,{slots:t,attributes:i,props:u,css:e,template:n});const a=tt(r)||{},c=te({css:e,template:s,componentAPI:a,name:o})({slots:t,attributes:i,props:u});return{mount:(t,e,n)=>c.mount(t,n,e),update:(t,e)=>c.update(e,t),unmount:t=>c.unmount(t)}}}function re(t){return L(t),t[S]=!0,t}const oe={cssManager:Vt,DOMBindings:{template:Lt,createBinding:It,createExpression:xt,bindingTypes:i,expressionTypes:J},globals:{PROPS_KEY:T,STATE_KEY:x,IS_COMPONENT_UPDATING:w,COMPONENTS_IMPLEMENTATION_MAP:u,PLUGINS_SET:c,DOM_COMPONENT_INSTANCE_PROPERTY:a,PARENT_KEY_SYMBOL:j}};t.__=oe,t.component=function(t){return(e,n,{slots:r,attributes:o,parentScope:s}={})=>function(...t){return t.reduce((t,e)=>(...n)=>t(e(...n)))}(t=>t.mount(e,s),t=>t({props:n,slots:r,attributes:o}),ne)(t)},t.createPureComponent=function(t,e){return{name:e,exports:re(({slots:e,attributes:n,props:r})=>Ut(t,{attributes:n,slots:e,props:r}))}},t.install=function(t){return L(t),c.has(t),c.add(t),c},t.mount=function(t,e,n){return $t(t).map(t=>function(t,e,n){const r=n||Xt(t);return u.has(r),u.get(r)({props:e,slots:void 0}).mount(t)}(t,e,n))},t.pure=re,t.register=function(t,{css:e,template:n,exports:r}){return u.has(t),u.set(t,ne({name:t,css:e,template:n,exports:r})),u},t.uninstall=function(t){return c.has(t),c.delete(t),c},t.unmount=function(t,e){return $t(t).map(t=>(t[a]&&t[a].unmount(e),t))},t.unregister=function(t){return u.has(t),u.delete(t),Vt.remove(t),u},t.version="v10.1.2",t.withTypes=t=>t},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).riot={});
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Navigo",[],n):"object"==typeof exports?exports.Navigo=n():t.Navigo=n()}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var t={407:function(t,n,e){e.d(n,{default:function(){return N}});var o=/([:*])(\w+)/g,r=/\*/g,i=/\/\?/g;function a(t){return void 0===t&&(t="/"),v()?location.pathname+location.search+location.hash:t}function s(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function c(t){return"string"==typeof t}function u(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function h(t){var n=s(t).split(/\?(.*)?$/);return[s(n[0]),n.slice(1).join("")]}function f(t){for(var n={},e=t.split("&"),o=0;o<e.length;o++){var r=e[o].split("=");if(""!==r[0]){var i=decodeURIComponent(r[0]);n[i]?(Array.isArray(n[i])||(n[i]=[n[i]]),n[i].push(decodeURIComponent(r[1]||""))):n[i]=decodeURIComponent(r[1]||"")}}return n}function l(t,n){var e,a=h(s(t.currentLocationPath)),l=a[0],p=a[1],d=""===p?null:f(p),v=[];if(c(n.path)){if(e="(?:/^|^)"+s(n.path).replace(o,(function(t,n,e){return v.push(e),"([^/]+)"})).replace(r,"?(?:.*)").replace(i,"/?([^/]+|)")+"$",""===s(n.path)&&""===s(l))return{url:l,queryString:p,hashString:u(t.to),route:n,data:null,params:d}}else e=n.path;var g=new RegExp(e,""),m=l.match(g);if(m){var y=c(n.path)?function(t,n){return 0===n.length?null:t?t.slice(1,t.length).reduce((function(t,e,o){return null===t&&(t={}),t[n[o]]=decodeURIComponent(e),t}),null):null}(m,v):m.groups?m.groups:m.slice(1);return{url:s(l.replace(new RegExp("^"+t.instance.root),"")),queryString:p,hashString:u(t.to),route:n,data:y,params:d}}return!1}function p(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function d(t,n){return void 0===t[n]||!0===t[n]}function v(){return"undefined"!=typeof window}function g(t,n){return void 0===t&&(t=[]),void 0===n&&(n={}),t.filter((function(t){return t})).forEach((function(t){["before","after","already","leave"].forEach((function(e){t[e]&&(n[e]||(n[e]=[]),n[e].push(t[e]))}))})),n}function m(t,n,e){var o=n||{},r=0;!function n(){t[r]?Array.isArray(t[r])?(t.splice.apply(t,[r,1].concat(t[r][0](o)?t[r][1]:t[r][2])),n()):t[r](o,(function(t){void 0===t||!0===t?(r+=1,n()):e&&e(o)})):e&&e(o)}()}function y(t,n){void 0===t.currentLocationPath&&(t.currentLocationPath=t.to=a(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),n()}function _(t,n){for(var e=0;e<t.instance.routes.length;e++){var o=l(t,t.instance.routes[e]);if(o&&(t.matches||(t.matches=[]),t.matches.push(o),"ONE"===t.resolveOptions.strategy))return void n()}n()}function k(t,n){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),n()}function O(t,n){!0===t.navigateOptions.force?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),n(!1)):n()}m.if=function(t,n,e){return Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]),[t,n,e]};var w=v(),L=p();function b(t,n){if(d(t.navigateOptions,"updateBrowserURL")){var e=("/"+t.to).replace(/\/\//g,"/"),o=w&&t.resolveOptions&&!0===t.resolveOptions.hash;L?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",o?"#"+e:e),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout((function(){if(!o){var n=location.hash;location.hash="",location.hash=n}t.instance.__freezeListening=!1}),1))):w&&(window.location.href=t.to)}n()}function A(t,n){var e=t.instance;e.lastResolved()?m(e.lastResolved().map((function(n){return function(e,o){if(n.route.hooks&&n.route.hooks.leave){var r=!1,i=t.instance.matchLocation(n.route.path,t.currentLocationPath,!1);r="*"!==n.route.path?!i:!(t.matches&&t.matches.find((function(t){return n.route.path===t.route.path}))),d(t.navigateOptions,"callHooks")&&r?m(n.route.hooks.leave.map((function(n){return function(e,o){return n((function(n){!1===n?t.instance.__markAsClean(t):o()}),t.matches&&t.matches.length>0?1===t.matches.length?t.matches[0]:t.matches:void 0)}})).concat([function(){return o()}])):o()}else o()}})),{},(function(){return n()})):n()}function P(t,n){d(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),n()}var R=[function(t,n){var e=t.instance.lastResolved();if(e&&e[0]&&e[0].route===t.match.route&&e[0].url===t.match.url&&e[0].queryString===t.match.queryString)return e.forEach((function(n){n.route.hooks&&n.route.hooks.already&&d(t.navigateOptions,"callHooks")&&n.route.hooks.already.forEach((function(n){return n(t.match)}))})),void n(!1);n()},function(t,n){t.match.route.hooks&&t.match.route.hooks.before&&d(t.navigateOptions,"callHooks")?m(t.match.route.hooks.before.map((function(n){return function(e,o){return n((function(n){!1===n?t.instance.__markAsClean(t):o()}),t.match)}})).concat([function(){return n()}])):n()},function(t,n){d(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),n()},function(t,n){t.match.route.hooks&&t.match.route.hooks.after&&d(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach((function(n){return n(t.match)})),n()}],S=[A,function(t,n){var e=t.instance._notFoundRoute;if(e){t.notFoundHandled=!0;var o=h(t.currentLocationPath),r=o[0],i=o[1],a=u(t.to);e.path=s(r);var c={url:e.path,queryString:i,hashString:a,data:null,route:e,params:""!==i?f(i):null};t.matches=[c],t.match=c}n()},m.if((function(t){return t.notFoundHandled}),R.concat([P]),[function(t,n){t.resolveOptions&&!1!==t.resolveOptions.noMatchWarning&&void 0!==t.resolveOptions.noMatchWarning||console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),n()},function(t,n){t.instance._setCurrent(null),n()}])];function E(){return(E=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function x(t,n){var e=0;A(t,(function o(){e!==t.matches.length?m(R,E({},t,{match:t.matches[e]}),(function(){e+=1,o()})):P(t,n)}))}function H(t){t.instance.__markAsClean(t)}function j(){return(j=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}var C="[data-navigo]";function N(t,n){var e,o=n||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:C},r=this,i="/",d=null,w=[],L=!1,A=p(),P=v();function R(t){return t.indexOf("#")>=0&&(t=!0===o.hash?t.split("#")[1]||"/":t.split("#")[0]),t}function E(t){return s(i+"/"+s(t))}function N(t,n,e,o){return t=c(t)?E(t):t,{name:o||s(String(t)),path:t,handler:n,hooks:g(e)}}function U(t,n){if(!r.__dirty){r.__dirty=!0,t=t?s(i)+"/"+s(t):void 0;var e={instance:r,to:t,currentLocationPath:t,navigateOptions:{},resolveOptions:j({},o,n)};return m([y,_,m.if((function(t){var n=t.matches;return n&&n.length>0}),x,S)],e,H),!!e.matches&&e.matches}r.__waiting.push((function(){return r.resolve(t,n)}))}function q(t,n){if(r.__dirty)r.__waiting.push((function(){return r.navigate(t,n)}));else{r.__dirty=!0,t=s(i)+"/"+s(t);var e={instance:r,to:t,navigateOptions:n||{},resolveOptions:n&&n.resolveOptions?n.resolveOptions:o,currentLocationPath:R(t)};m([k,O,_,m.if((function(t){var n=t.matches;return n&&n.length>0}),x,S),b,H],e,H)}}function F(){if(P)return(P?[].slice.call(document.querySelectorAll(o.linksSelector||C)):[]).forEach((function(t){"false"!==t.getAttribute("data-navigo")&&"_blank"!==t.getAttribute("target")?t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(n){if((n.ctrlKey||n.metaKey)&&"a"===n.target.tagName.toLowerCase())return!1;var e=t.getAttribute("href");if(null==e)return!1;if(e.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var o=new URL(e);e=o.pathname+o.search}catch(t){}var i=function(t){if(!t)return{};var n,e=t.split(","),o={};return e.forEach((function(t){var e=t.split(":").map((function(t){return t.replace(/(^ +| +$)/g,"")}));switch(e[0]){case"historyAPIMethod":o.historyAPIMethod=e[1];break;case"resolveOptionsStrategy":n||(n={}),n.strategy=e[1];break;case"resolveOptionsHash":n||(n={}),n.hash="true"===e[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":o[e[0]]="true"===e[1]}})),n&&(o.resolveOptions=n),o}(t.getAttribute("data-navigo-options"));L||(n.preventDefault(),n.stopPropagation(),r.navigate(s(e),i))},t.addEventListener("click",t.navigoHandler)):t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler)})),r}function I(t,n,e){var o=w.find((function(n){return n.name===t})),r=null;if(o){if(r=o.path,n)for(var a in n)r=r.replace(":"+a,n[a]);r=r.match(/^\//)?r:"/"+r}return r&&e&&!e.includeRoot&&(r=r.replace(new RegExp("^/"+i),"")),r}function M(t){var n=h(s(t)),o=n[0],r=n[1],i=""===r?null:f(r);return{url:o,queryString:r,hashString:u(t),route:N(o,(function(){}),[e],o),data:null,params:i}}function T(t,n,e){return"string"==typeof n&&(n=z(n)),n?(n.hooks[t]||(n.hooks[t]=[]),n.hooks[t].push(e),function(){n.hooks[t]=n.hooks[t].filter((function(t){return t!==e}))}):(console.warn("Route doesn't exists: "+n),function(){})}function z(t){return"string"==typeof t?w.find((function(n){return n.name===E(t)})):w.find((function(n){return n.handler===t}))}t?i=s(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=i,this.routes=w,this.destroyed=L,this.current=d,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()},this.on=function(t,n,o){var r=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(o=n,n=t,t=i),w.push(N(t,n,[e,o])),this):(Object.keys(t).forEach((function(n){if("function"==typeof t[n])r.on(n,t[n]);else{var o=t[n],i=o.uses,a=o.as,s=o.hooks;w.push(N(n,i,[e,s],a))}})),this)},this.off=function(t){return this.routes=w=w.filter((function(n){return c(t)?s(n.path)!==s(t):"function"==typeof t?t!==n.handler:String(n.path)!==String(t)})),this},this.resolve=U,this.navigate=q,this.navigateByName=function(t,n,e){var o=I(t,n);return null!==o&&(q(o.replace(new RegExp("^/?"+i),""),e),!0)},this.destroy=function(){this.routes=w=[],A&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=L=!0},this.notFound=function(t,n){return r._notFoundRoute=N("*",t,[e,n],"__NOT_FOUND__"),this},this.updatePageLinks=F,this.link=function(t){return"/"+i+"/"+s(t)},this.hooks=function(t){return e=t,this},this.extractGETParameters=function(t){return h(R(t))},this.lastResolved=function(){return d},this.generate=I,this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var n={instance:r,currentLocationPath:t,to:t,navigateOptions:{},resolveOptions:o};return _(n,(function(){})),!!n.matches&&n.matches},this.matchLocation=function(t,n,e){void 0===n||void 0!==e&&!e||(n=E(n));var o={instance:r,to:n,currentLocationPath:n};return y(o,(function(){})),"string"==typeof t&&(t=void 0===e||e?E(t):t),l(o,{name:String(t),path:t,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return M(s(a(i)).replace(new RegExp("^"+i),""))},this.addBeforeHook=T.bind(this,"before"),this.addAfterHook=T.bind(this,"after"),this.addAlreadyHook=T.bind(this,"already"),this.addLeaveHook=T.bind(this,"leave"),this.getRoute=z,this._pathToMatchObject=M,this._clean=s,this._checkForAHash=R,this._setCurrent=function(t){return d=r.current=t},function(){A&&(this.__popstateListener=function(){r.__freezeListening||U()},window.addEventListener("popstate",this.__popstateListener))}.call(this),F.call(this)}}},n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{}};return t[o](r,r.exports,e),r.exports}return e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e(407)}().default}));
//# sourceMappingURL=navigo.min.js.map